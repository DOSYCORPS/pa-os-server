<form method=POST action=prop?${ d => !d.query_params.buildjourney? '' : `buildjourney=true` }>
  <h1 class=sticky id=prop>
    Edit prop <button class=middle name=prop.save value=prop>Save prop</button>
  </h1>
  ${ d => !d.query_params.buildjourney ? 
  `<a target=map href=map#map>Back to map</a>` :
  `<a target=journey href=journey#journey>Back to journey</a>` 
  }
  <p>
    <input required name=prop.name placeholder=name value="${T.prop.name}">
  <p>
    <input required name=prop.concepts;array placeholder=concepts value="${T.prop.concepts}">
  <p>
    <textarea required rows=2 name=prop.desc placeholder=description>${T.prop.desc}</textarea>
  <h2 id=proplocations>Property places</h2>
  <p>
  <dl>
    <dt><label for=generalized>All places</label><input style="width: ${d => (d.prop.size+'').length+1}ch" placeholder=0
        id=size class="txcent report" readonly type=number name=prop.size value="${T.prop.size}"><span class=report>found</span>
    <dd>
      <input type=text size=10 id=generalized name=prop.generalized value="${T.prop.generalized}"><button 
        id=generalize>Get all</button>    </dd>
  <dl>
    <dt>Place examples
    <dd><input class=new type=text value="" size=10 name=prop.locations><button 
      name=prop.savelocation value=new>Save</button>
  ${ d => d.prop.locations.map( (p,idx) => `
    <dd>
      <input type=text size=10 value="${p}" name=prop.locations><button 
        name=prop.dellocation value="${idx}">Del</button>
    ` 
  )}
  </dl>
  <p>
    <button class=middle name=prop.save value=prop>Save prop</button>
</form>
<script src=/scripts/build.js></script>
