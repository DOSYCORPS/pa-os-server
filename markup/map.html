<form method=POST action=map>
  <h1 class=sticky id=map>
     Edit map <button class=middle name=map.save value=prop>Save map</button>
  </h1>
  <a target=_parent href=mymaps>Back to my maps</a>
  <p>
    <input required name=map.name placeholder=name value="${T.map.name}">
  <p>
    <textarea required rows=2 name=map.concepts;array placeholder=concepts >${T.map.concepts}</textarea>
  <p>
    <textarea required rows=3 name=map.desc placeholder=description>${T.map.desc}</textarea>
  <h2 id=proplist>Properties</h2>
  <dl>
  ${ d => d.map.props.map( ({name,slot},idx) => `
    <dd><input size=7 placeholder=name name=map.props.${idx}.slot value="${slot}">
    <input type=hidden name=map.props.${idx}.name value="${name}">
    <span class=fixedwidth>
      <a target=prop href="prop?prop=${name}#prop">${name}</a> 
    </span>
    <button name=map.removeprop value="${name}">Del</button>
    ` 
  )}
  </dl>
  <p>
    <a rel=search target=searchprops href=searchprops#searchprops>Search more properties to add</a>
  <p>
    <button class=middle name=map.save value=prop>Save map</button>
</form>
